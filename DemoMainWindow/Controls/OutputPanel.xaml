<UserControl x:Class="DemoMainWindow.OutputPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800"
             x:Name="root">
	<Grid>
		<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
			<ItemsControl ItemsSource="{Binding Logs, ElementName=root}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<Border Padding="5,2" BorderThickness="0,0,0,1" BorderBrush="#E0E0E0">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto"/>
									<ColumnDefinition Width="Auto"/>
									<ColumnDefinition Width="*"/>
								</Grid.ColumnDefinitions>

								<!-- Timestamp -->
								<TextBlock Grid.Column="0"
										   Text="{Binding Timestamp, StringFormat='yyyy-MM-dd HH:mm:ss.fff'}"
										   Foreground="#666666"
										   FontSize="11"
										   Margin="0,0,10,0"/>

								<!-- Log Level -->
								<TextBlock Grid.Column="1"
										   Text="{Binding Level}"
										   FontWeight="Bold"
										   FontSize="11"
										   Margin="0,0,10,0">
									<TextBlock.Style>
										<Style TargetType="TextBlock">
											<Style.Triggers>
												<DataTrigger Binding="{Binding Level}" Value="Information">
													<Setter Property="Foreground" Value="#4CAF50"/>
												</DataTrigger>
												<DataTrigger Binding="{Binding Level}" Value="Warning">
													<Setter Property="Foreground" Value="#FF9800"/>
												</DataTrigger>
												<DataTrigger Binding="{Binding Level}" Value="Error">
													<Setter Property="Foreground" Value="#F44336"/>
												</DataTrigger>
												<DataTrigger Binding="{Binding Level}" Value="Debug">
													<Setter Property="Foreground" Value="#2196F3"/>
												</DataTrigger>
											</Style.Triggers>
										</Style>
									</TextBlock.Style>
								</TextBlock>

								<!-- Message Content -->
								<TextBlock Grid.Column="2"
										   Text="{Binding Message}"
										   TextWrapping="Wrap"
										   FontSize="12"/>
							</Grid>
						</Border>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</ScrollViewer>
	</Grid>
</UserControl>
